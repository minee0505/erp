# [TIL] 2026-02-04

## 영림원 ERP 데이터 서비스 등록 & SQL Batch 구분자 오류

## 1. SQL Server: `GO` 문 실행 오류

### 문제 상황

* 테이블 생성 스크립트 실행 중 구문 오류 발생
* 스크립트에 `GO`가 여러 개 포함된 상태로 **전체 쿼리를 한 번에 실행**

### 원인 분석

* `GO`는 SQL Server 엔진 문법이 아니라 **클라이언트 툴에서만 인식하는 배치 구분자**
* SSMS에서는 `GO` 기준으로 쿼리를 나눠 보내지만,
  ERP 데이터 서비스 등록 창은 이를 **단일 SQL로 인식**
* 그 결과 `GO`를 문법 오류로 처리

### 해결 및 배운 점

* `GO`를 지원하지 않는 실행 환경에서는 제거 후 실행
* 또는 쿼리를 배치 단위로 나눠 수동 실행
* **“SQL이 아니라 실행 환경이 문제였다”는 점을 명확히 인지**

#### 다음에 바로 쓸 체크리스트

* 이 SQL은 **어디에서 실행하는가?**
* 해당 환경은 **배치 구분자를 지원하는가?**
* `GO` 없이도 동작하도록 작성 가능한가?

---

## 2. 영림원 ERP: Status 71001 / 체크아웃 이슈

### 문제 상황

* 데이터 서비스 등록 후 오타 수정 시 저장 불가
* 체크아웃 안내 메시지 + `Status 71001`
* 상단 툴바에 체크아웃 버튼이 보이지 않음

### 원인 분석

* ERP 객체는 **체크아웃 기반 잠금 모델**
* `Status 71001` = 객체가 누군가(또는 내 이전 세션)에 의해 점유된 상태
* 점유 상태에서는 UI 버튼이 비활성화되거나 숨겨질 수 있음

### 해결 및 배운 점

* 수정 전 반드시:
  `체크아웃 → 수정 → 저장 → 체크인`
* 버튼이 안 보일 경우:

    * 우클릭 메뉴 확인
    * [객체 체크아웃 관리] 메뉴에서 잠금 상태 확인 및 해제

#### ERP 개발자 경고

* “버튼이 안 보인다” = **권한/상태 문제일 확률 90%**
* 당황해서 새로 만들지 말고 **점유 상태부터 의심**

---

## 3. 오늘의 회고 (Action Plan)

* 등록 전 **명칭·ID·오타 1차 검증 필수**
* ERP 에러 코드는 메시지보다 **상태 코드가 핵심**
* SQL 오류가 나면:
  → 문법 → 데이터 → **실행 환경** 순서로 의심

---

